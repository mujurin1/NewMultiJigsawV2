# メモ

v10.5 での変更
・ゲーム内プレイヤーIDを無くした
  （userIDを削除し、playerID をニコニコアカウントIDとした）

現存するバグ（多分）やはり存在した
> ピースを持って移動している時に、\
> そのアカウントが、\
> 同じ起動中のゲームを読み込むと、\
> 最初に起動していた端末でエラー\
> （自業自得だから良いよね…）


やることリスト
* 各タッチイベント、ピースイベントの値を全てチェックする
* チェックリストを書き出す




# ランキングの使用について

## グローバルシグナル + 共有セーブ

グローバルシグナル
・1000件まで保存可能なデータ（上書き不可）
[形式]
id: number          各シグナル固有の値
senderID: number    送信者のニコニコアカウントID
senderName: string  送信者のニコニコアカウント名
data: string        データ
createdAt: number   送信日時

共有セーブ
・各ユーザーが持っているデータ（上書き可能）
・同時に100ユーザーのデータを取得可能
・取得には、データが欲しいユーザーのIDが必要
[形式]
{userID: "データ"}[]

グローバルにユーザーIDを保存して、
共有セーブでユーザーIDからデータ（スコア）を取得する

問題点
・一度に100件アカウントまでしか取得出来ないので、
  最大10回(API呼び出しは5秒に1回なので)、
  50秒掛かる。
→ プレイ中に取得しておく（最新じゃないかもしれないけど）


## スコアボードを利用する

スコアボード
・最大30ボード
・1ボード 100件まで
  デフォルト表示が100件まで
  取得は100件以上できる？
  プレ垢は半永久に残る
  一般は最近のだけ（曖昧）
・-999,999,999,999,999 ～ +999,999,999,999,999
  +-15桁

### 1パズル1スコアボード

・レベル毎にボードを分けない
時分秒、レベルごとにスコアを計算
時間が短いほどランクは高いのでマイナスする
> s秒：2桁
> m分：2桁
> h時：3桁（念の為）
> lレベル：1桁（4-レベル）
→ l_hhh_mm_ss
例）レベル1、1時間23分45秒
    → -3_001_23_45
    レベル3、13時間00分01秒
    → -1_013_00_01

